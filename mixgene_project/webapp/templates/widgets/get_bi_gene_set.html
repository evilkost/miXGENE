{% extends "widgets/base_block_template.html" %}

{% block panel_heading %}
{% endblock panel_heading %}


{% block panel_body %}
<div class="row">
    <form class="form form-horizontal form-ajax-submit"
          action="{% url 'update_block' %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="block_uuid" value="{{ exp_block.uuid }}" />
        <input type="hidden" name="exp_id" value="{{ ctx.exp_id }}" />

        <div class="col-lg-9">
            <div class="form-group">
                <label class="col-sm-2 control-label">Gene set</label>
                <div class="col-sm-10">
                    <select name="gene_set_id" class="form-control">
                        {% for bi_gene_set in  exp_block.all_gene_sets %}
                        <!-- {{ bi_gene_set.id }} -- {{ exp_block.selected_gs_id}} -->
                        <option value = "{{bi_gene_set.id}}"
                            {% ifequal bi_gene_set.id|stringformat:"s" exp_block.selected_gs_id|stringformat:"s" %} selected {% endifequal %}>
                            {{  bi_gene_set  }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            {% for action_code, action_title in exp_block.get_available_user_action %}

            <button type="submit" class="btn btn-default btn-block"
                    name="action" value="{{ action_code }}">
                {{ action_title }}
            </button>

            {% endfor %}
        </div>

    </form>
</div>
{% endblock panel_body %}